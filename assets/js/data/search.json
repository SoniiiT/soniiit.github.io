[ { "title": "Starship die beste Shell", "url": "/posts/Starship/", "categories": "shell, terminal, starship", "tags": "shell, server, terminal", "date": "2022-08-11 12:00:00 +0200", "snippet": "Was ist Starship?Starship ist eine sch√∂ne erweiterung f√ºr deine Shell (Terminal). Du kannst somit deine Shell einen sch√∂nen frischen look geben.Wie installiertet man Starship?Hier zeige ich dir wie du Starship in Powershell und auf Linux installieren kannst. Du kannst es auch auf Mac installieren.FontsZuallererst m√ºssen wir eine Font installieren, da du verschiedene Icons im Terminal hast. Z.B. f√ºr Windows ein Windows logo oder f√ºr Ubuntu ein Ubuntu logo.Um die font zu installieren klicke hier und such dir die font aus die dir gef√§llt. Ich nehme hier \"Hack Nerd font\" kann bei dir aber auch anders sein.Unter Linux Terminal:mkdir fontwget `HIER LINK ZUM FONT`unzip `HIER DATEI`mv `Datei ausw√§hlen` `\"Du musst jede datei ausw√§hlen und bewegen\"`fc-cache -fvUnter Windows:Die datei entpacken und dann alles was drinne ist ausw√§hlen und dann rechtklicken. Dann f√ºr alle Benutzer installieren und fertig.Anwendungs Manager installierenUm Starship in Powershell zu installieren brauchst du erst ein Anwendungs Manager. Ich nutze hier Chocolatey. Du kannst auch einen anderen nutzen. Unterst√ºtzt wird auch Scoop und Homebrew.So installierst du ChocolateyUm Chocolatey zu installieren brauchst du Powershell 7. Hier findest du den download link f√ºr Powershell 7.Du musst erstmal nen Check laufen lassen um zu pr√ºfen das du Chocolatey installieren kannst.ALLE BEFEHLE M√úSSEN ALS ADMIN AUSGEF√úHRT WERDEN!Daf√ºr musst du diesen befehl ausf√ºhren.Get-ExecutionPolicySollte bei dir dann stehen \"Restricted\" dann musst du folgenen befehl ausf√ºrenSet-ExecutionPolicy AllSignedoderSet-ExecutionPolicy Bypass -Scope ProcessWenn den den ersten befehel ausf√ºhrst sollte nun nicht mehr \"Restricted\" stehen.Nun kannst du Chocolatey installieren:Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString('https://community.chocolatey.org/install.ps1'))Nun hast du erfolgreich Chocolatey installiert.So installierst du Starship in PowershellDu gehst nun in deiner Powershell 7 und f√ºgst den Befehl da ein:choco install starshipNun hast du Starship installiert und kannst gleich zum n√§chsten schritt gehen.So installierst du Starship auf LinuxDu √∂ffnest dein Terminal und gibst folgendes ein.curl -sS https://starship.rs/install.sh | shSomit hast du erfolgreich Starship installiert.Starship DesignAlle Designs sind nicht von mir. Sie kommen von hierDesign auf Powershell 7 anwenden.Du solltest in dein Windows Terminal gehen und dorst die font √§ndern auf die font die du dir runtergeladen hast.Als n√§chstes gibt du den befehl ein:code $PROFILEsolltest du kein Visual Code besitzen gib den Befehl ein:notepad $PROFILENachdem du das gemacht hast f√ºg das ein:$ENV:STARSHIP_CONFIG = \"$HOME\\.config\\starship.toml\"$ENV:STARSHIP_DISTRO = \"Ô™≤ $env:username\"Invoke-Expression (&amp;starship init powershell)Nun musst du ein Ordner in \"C:\\Benutzer\\Dein Name\" der so hei√üen soll: \".config\". In diesem Ordner sollst du eine neue Datei erstellen. Die sollte \"starship.toml\" hei√üen.Oder auch als befehl:mkdir /.config/starship.tomlIn dieser Datei musst du folgendes einf√ºgen:# ~/.config/starship.toml# Inserts a blank line between shell promptsadd_newline = true# Change command timeout from 500 to 1000 mscommand_timeout = 1000# Change the default prompt formatformat = \"\"\"\\[‚ï≠‚ï¥](238)$env_var\\$all[‚ï∞‚îÄ](238)$character\"\"\"# # Change the default prompt characters[character]success_symbol = \"[Ôïì](238)\"error_symbol = \"[Ôïì](238)\"# Shows an icon that should be included by zshrc script based on the distribution or os[env_var.STARSHIP_DISTRO]format = '[$env_value](white) 'variable = \"STARSHIP_DISTRO\"disabled = false# Shows the username[username]style_user = \"white\"style_root = \"white\"format = \"[$user]($style) \"disabled = falseshow_always = true[hostname]ssh_only = falseformat = \"on [$hostname](bold yellow) \"disabled = false[directory]truncation_length = 3truncation_symbol = \"‚Ä¶/\"home_symbol = \"Ôüù ~\"read_only_style = \"197\"read_only = \" ÔÄ£ \"format = \"at [$path]($style)[$read_only]($read_only_style) \"[git_branch]symbol = \"Ôû° \"format = \"via [$symbol$branch]($style) \"# truncation_length = 4truncation_symbol = \"‚Ä¶/\"style = \"bold green\"[git_status]format = '[\\($all_status$ahead_behind\\)]($style) 'style = \"bold green\"conflicted = \"üè≥\"up_to_date = \"ÔÅÜ \"untracked = \"Ôî© \"ahead = \"‚á°${count}\"diverged = \"‚áï‚á°${ahead_count}‚á£${behind_count}\"behind = \"‚á£${count}\"stashed = \"Ô£ñ \"modified = \"ÔÅÑ \"staged = '[++\\($count\\)](green)'renamed = \"Ô™∂ \"deleted = \"ÔÄî \"[terraform]format = \"via [ÔÑµ terraform $version]($style) Ô•Ç [$workspace]($style) \"[vagrant]format = \"via [ÔÑµ vagrant $version]($style) \"[docker_context]format = \"via [Ôåà $context](bold blue) \"[helm]format = \"via [Ôàö $version](bold purple) \"[python]symbol = \"Ô†ü \"python_binary = \"python3\"[nodejs]format = \"via [Ô¢ò $version](bold green) \"disabled = true[ruby]format = \"via [Óàæ $version]($style) \"[kubernetes]format = 'via [Ô¥± $context\\($namespace\\)](bold purple) 'disabled = false[kubernetes.context_aliases]\"do-fra1-prod-k8s-clcreative\" = \"Ôî≠ lgcy-1\"\"infra-home-kube-prod-1\" = \"Ôüõ prod-1\"\"infra-home-kube-prod-2\" = \"Ôüõ prod-2\"\"infra-cloud-kube-prod-1\" = \"Ôî≠ prod-1\"\"infra-cloud-kube-test-1\" = \"Ôî≠ test-1\"Und das wars f√ºr Windows. Viel Spa√üDesign auf Linux anwendenUm die Designs auf Linux anzuwenden musst du mehrere Dateien erstellen.Du erstellst nun die erste Datei.nano ~/.bashrcIn dieser datei f√ºgst du zus√§tzlich folgendes ein:# find out which distribution we are running onLFILE=\"/etc/*-release\"MFILE=\"/System/Library/CoreServices/SystemVersion.plist\"_distro=$(awk '/^ID=/' /etc/*-release | awk -F'=' '{ print tolower($2) }')# set an icon based on the distro# make sure your font is compatible with https://github.com/lukas-w/font-logoscase $_distro in *kali*) ICON=\"Ô¥£\";; *arch*) ICON=\"ÔåÉ\";; *debian*) ICON=\"ÓùΩ\";; *raspbian*) ICON=\"Ôåï\";; *ubuntu*) ICON=\"Ôåõ\";; *elementary*) ICON=\"Ôåâ\";; *fedora*) ICON=\"Ôåä\";; *coreos*) ICON=\"ÔåÖ\";; *gentoo*) ICON=\"Ôåç\";; *mageia*) ICON=\"Ôåê\";; *centos*) ICON=\"ÔåÑ\";; *opensuse*|*tumbleweed*) ICON=\"Ôåî\";; *sabayon*) ICON=\"Ôåó\";; *slackware*) ICON=\"Ôåò\";; *linuxmint*) ICON=\"Ôåé\";; *alpine*) ICON=\"ÔåÄ\";; *aosc*) ICON=\"ÔåÅ\";; *nixos*) ICON=\"Ôåì\";; *devuan*) ICON=\"Ôåá\";; *manjaro*) ICON=\"Ôåí\";; *rhel*) ICON=\"Ôåñ\";; *macos*) ICON=\"Ôî¥\";; *) ICON=\"ÔÖº\";;esacexport STARSHIP_DISTRO=\"$ICON \"export STARSHIP_CONFIG=~/.config/starship.tomleval \"$(starship init bash)\"# PATH Variableexport PATH=\"$PATH:/home/ansible/.local/bin\"export PATH=\"$PATH:/home/xcad/.cargo/bin\"# Bash History SettingsHISTCONTROL=ignorebothHISTSIZE=1000HISTFILESIZE=2000shopt -s histappendshopt -s checkwinsize# Alias definitions.if [ -f ~/.bash_aliases ]; then . ~/.bash_aliasesfi# enable programmable completion features (you don't need to enable# this, if it's already enabled in /etc/bash.bashrc and /etc/profile# sources /etc/bash.bashrc).if ! shopt -oq posix; then if [ -f /usr/share/bash-completion/bash_completion ]; then . /usr/share/bash-completion/bash_completion elif [ -f /etc/bash_completion ]; then . /etc/bash_completion fifiDann erstellst du die n√§chste datei:nano ~/.zshenvIn der f√ºgst du folgendes ein:# Added locations to path variableexport PATH=$PATH:$HOME/.local/bin:$HOME/.cargo/bin# NVM directoryexport NVM_DIR=\"$HOME/.nvm\"# Vagrant config needed inside WSL2export VAGRANT_DEFAULT_PROVIDER=\"hyperv\"export VAGRANT_WSL_ENABLE_WINDOWS_ACCESS=\"1\"Dann kommst du zur vorletzten Datei:nano ~/.zshrcDort f√ºgst du das ein:# Goto[[ -s \"/usr/local/share/goto.sh\" ]] &amp;&amp; source /usr/local/share/goto.sh# NVM lazy loadif [ -s \"$HOME/.nvm/nvm.sh\" ]; then [ -s \"$NVM_DIR/bash_completion\" ] &amp;&amp; . \"$NVM_DIR/bash_completion\" alias nvm='unalias nvm node npm &amp;&amp; . \"$NVM_DIR\"/nvm.sh &amp;&amp; nvm' alias node='unalias nvm node npm &amp;&amp; . \"$NVM_DIR\"/nvm.sh &amp;&amp; node' alias npm='unalias nvm node npm &amp;&amp; . \"$NVM_DIR\"/nvm.sh &amp;&amp; npm'fi# Fix Interop Error that randomly occurs in vscode terminal when using WSL2fix_wsl2_interop() { for i in $(pstree -np -s $$ | grep -o -E '[0-9]+'); do if [[ -e \"/run/WSL/${i}_interop\" ]]; then export WSL_INTEROP=/run/WSL/${i}_interop fi done}# Kubectl Functions# ---#alias k=\"kubectl\"alias h=\"helm\"kn() { if [ \"$1\" != \"\" ]; then\t kubectl config set-context --current --namespace=$1 else\t echo -e \"\\e[1;31mÔÅ± Error, please provide a valid Namespace\\e[0m\" fi}knd() { kubectl config set-context --current --namespace=default}ku() { kubectl config unset current-context}# Colormapfunction colormap() { for i in {0..255}; do print -Pn \"%K{$i} %k%F{$i}${(l:3::0:)i}%f \" ${${(M)$((i%6)):#3}:+$'\\n'}; done}# ALIAS COMMANDSalias ls=\"exa --icons --group-directories-first\"alias ll=\"exa --icons --group-directories-first -l\"alias g=\"goto\"alias grep='grep --color'alias cbp=\"code /home/xcad/obsidianvault/boilerplates\"alias cpr=\"code /home/xcad/obsidianvault/projects\"# find out which distribution we are running onLFILE=\"/etc/*-release\"MFILE=\"/System/Library/CoreServices/SystemVersion.plist\"if [[ -f $LFILE ]]; then _distro=$(awk '/^ID=/' /etc/*-release | awk -F'=' '{ print tolower($2) }')elif [[ -f $MFILE ]]; then _distro=\"macos\"fi# set an icon based on the distro# make sure your font is compatible with https://github.com/lukas-w/font-logoscase $_distro in *kali*) ICON=\"Ô¥£\";; *arch*) ICON=\"ÔåÉ\";; *debian*) ICON=\"ÓùΩ\";; *raspbian*) ICON=\"Ôåï\";; *ubuntu*) ICON=\"Ôåõ\";; *elementary*) ICON=\"Ôåâ\";; *fedora*) ICON=\"Ôåä\";; *coreos*) ICON=\"ÔåÖ\";; *gentoo*) ICON=\"Ôåç\";; *mageia*) ICON=\"Ôåê\";; *centos*) ICON=\"ÔåÑ\";; *opensuse*|*tumbleweed*) ICON=\"Ôåî\";; *sabayon*) ICON=\"Ôåó\";; *slackware*) ICON=\"Ôåò\";; *linuxmint*) ICON=\"Ôåé\";; *alpine*) ICON=\"ÔåÄ\";; *aosc*) ICON=\"ÔåÅ\";; *nixos*) ICON=\"Ôåì\";; *devuan*) ICON=\"Ôåá\";; *manjaro*) ICON=\"Ôåí\";; *rhel*) ICON=\"Ôåñ\";; *macos*) ICON=\"Ôî¥\";; *) ICON=\"ÔÖº\";;esacexport STARSHIP_DISTRO=\"$ICON\"# Load Starshipeval \"$(starship init zsh)\"Jetzt kommst du bei der letzten Datei an.nano ~/.config/starship.tomlDort f√ºgst das ein:# ~/.config/starship.toml# Inserts a blank line between shell promptsadd_newline = true# Change command timeout from 500 to 1000 mscommand_timeout = 1000# Change the default prompt formatformat = \"\"\"\\[‚ï≠‚ï¥](238)$env_var\\$all[‚ï∞‚îÄ](238)$character\"\"\"# # Change the default prompt characters[character]success_symbol = \"[Ôïì](238)\"error_symbol = \"[Ôïì](238)\"# Shows an icon that should be included by zshrc script based on the distribution or os[env_var.STARSHIP_DISTRO]format = '[$env_value](white) 'variable = \"STARSHIP_DISTRO\"disabled = false# Shows the username[username]style_user = \"white\"style_root = \"white\"format = \"[$user]($style) \"disabled = falseshow_always = true[hostname]ssh_only = falseformat = \"on [$hostname](bold yellow) \"disabled = false[directory]truncation_length = 3truncation_symbol = \"‚Ä¶/\"home_symbol = \"Ôüù ~\"read_only_style = \"197\"read_only = \" ÔÄ£ \"format = \"at [$path]($style)[$read_only]($read_only_style) \"[git_branch]symbol = \"Ôû° \"format = \"via [$symbol$branch]($style) \"# truncation_length = 4truncation_symbol = \"‚Ä¶/\"style = \"bold green\"[git_status]format = '[\\($all_status$ahead_behind\\)]($style) 'style = \"bold green\"conflicted = \"üè≥\"up_to_date = \"ÔÅÜ \"untracked = \"Ôî© \"ahead = \"‚á°${count}\"diverged = \"‚áï‚á°${ahead_count}‚á£${behind_count}\"behind = \"‚á£${count}\"stashed = \"Ô£ñ \"modified = \"ÔÅÑ \"staged = '[++\\($count\\)](green)'renamed = \"Ô™∂ \"deleted = \"ÔÄî \"[terraform]format = \"via [ÔÑµ terraform $version]($style) Ô•Ç [$workspace]($style) \"[vagrant]format = \"via [ÔÑµ vagrant $version]($style) \"[docker_context]format = \"via [Ôåà $context](bold blue) \"[helm]format = \"via [Ôàö $version](bold purple) \"[python]symbol = \"Ô†ü \"python_binary = \"python3\"[nodejs]format = \"via [Ô¢ò $version](bold green) \"disabled = true[ruby]format = \"via [Óàæ $version]($style) \"[kubernetes]format = 'via [Ô¥± $context\\($namespace\\)](bold purple) 'disabled = false[kubernetes.context_aliases]\"do-fra1-prod-k8s-clcreative\" = \"Ôî≠ lgcy-1\"\"infra-home-kube-prod-1\" = \"Ôüõ prod-1\"\"infra-home-kube-prod-2\" = \"Ôüõ prod-2\"\"infra-cloud-kube-prod-1\" = \"Ôî≠ prod-1\"\"infra-cloud-kube-test-1\" = \"Ôî≠ test-1\"Das wars du hast nun alle Designs installiert.Du hast es geschafftDu hast es geschafft du hast nun f√ºr f√ºr Windows oder Linux Starship installliert. Solltest du das Problem haben das sie sich noch nicht aktiviert haben kannst du einfach dein PC neustarten.QuelleMake Windows Terminal look amazing! sein Github Ordner." }, { "title": "Game Server Pterodactyl", "url": "/posts/Pterodactyl/", "categories": "gameserver, voiceserver, hosting, linux", "tags": "gameserver, voiceserver, pterodactyl, minecraft server, ts3 server, linux", "date": "2022-07-21 12:30:00 +0200", "snippet": "Was ist Pterodactyl?Pterodactyl ist ein Service in dem du deine eigenen Game Server / Voice Server erstellen und verwalten kannst. In diesem Guide wirst du schritt f√ºr schritt erfahren wie du deine eigenen Game Server / Voice Server erstellen kannst.Abh√§ngigkeitenHier sind ein paar Befehle um die Abh√§ngigkeiten zu installieren.# Add \"add-apt-repository\" commandsudo apt -y install software-properties-common curl apt-transport-https ca-certificates gnupg# Add additional repositories for PHP, Redis, and MariaDBsudo LC_ALL=C.UTF-8 add-apt-repository -y ppa:ondrej/phpsudo add-apt-repository ppa:redislabs/redis -y# MariaDB repo setup script can be skipped on Ubuntu 22.04curl -sS https://downloads.mariadb.com/MariaDB/mariadb_repo_setup | sudo bash# Update repositories listsudo apt update# Add universe repository if you are on Ubuntu 18.04sudo apt-add-repository universe# Install Dependenciessudo apt -y install php8.1 php8.1-{common,cli,gd,mysql,mbstring,bcmath,xml,fpm,curl,zip} mariadb-server nginx tar unzip git redis-serverInstallieren von ComposerComposer ist ein Abh√§ngigkeitsmanager f√ºr PHP. Du musst den Composer installieren um hier weiter machen zu k√∂nnen.curl -sS https://getcomposer.org/installer | sudo php -- --install-dir=/usr/local/bin --filename=composerPterodactyl runterladenUm Pterodactyl runterzuladen m√ºsst du erst ein Verzeichnis daf√ºr erstellen.sudo mkdir -p /var/www/pterodactylcd /var/www/pterodactylNachdem du ein neues Verzeichnis erstellt hast und auch schon drin bist kannst du die dateien runterladen.sudo curl -Lo panel.tar.gz https://github.com/pterodactyl/panel/releases/latest/download/panel.tar.gzsudo tar -xzvf panel.tar.gzsudo chmod -R 755 storage/* bootstrap/cache/MySQL einrichtenUm Pterodactyl nutzen zu k√∂nnen musst du f√ºr Pterodactyl eine Datenbank erstellen.EinloggenZuerst musst du dich in der Datenbank anmelden.sudo mysql -u root -pEin User erstellenAls n√§chstes erstellen wir einen User names pterodactyl mit einem passwortVergiss nicht ‚ÄòPasswort‚Äô mit einem starken Passwort zu ersetzten.CREATE USER 'pterodactyl'@'127.0.0.1' IDENTIFIED BY 'Passwort';Eine Datenbank erstellenNun m√ºssen wir eine Datenbank erstellen damit Pterodactyl sich sp√§ter mit verbinden kann.CREATE DATABASE panel;Rechte vergebenZu guter letzt m√ºssen wir dem User Pterodactyl seine Rechte geben damit es sich auf die Datenbank verbinden kann.GRANT ALL PRIVILEGES ON panel.* TO 'pterodactyl'@'127.0.0.1' WITH GRANT OPTION;Eine Datenbank f√ºr die Nodes erstellenEin neuen User erstellenNun m√ºssen wir einen neuen User erstellen damit wir √ºber den Panel oder auch der Daemon Server konfigurieren kann. Sollte die Datenbank auf einem anderen Server sein √§ndere die IP 127.0.0.1 auf die IP des Server wo auch die Datenbank liegt.Vergiss hier nicht den ‚ÄòUser‚Äô umzubennen und auch das ‚ÄòPasswort‚Äô.CREATE USER 'User'@'127.0.0.1' IDENTIFIED BY 'Passwort';Rechte VergebenNun vegibst du die Rechte f√ºr den neuen User. Auch hier sollte wie oben auch die Datenbank auf einem andern server sein, √§ndere die IP 127.0.0.1 auf die IP des Servers.# Auch hier nicht vergessen ‚ÄòUser‚Äô umzubenennen.GRANT ALL PRIVILEGES ON *.* TO 'User'@'127.0.0.1' WITH GRANT OPTION;Gebe danach exit ein.Zugriff erlauben von externen DatenbasenWarscheinlich musst du den zugriff auf externen Server erlauben um drauf connecten zu k√∂nnen. Daf√ºr musst du die my.cnf finden. Das geht einfach indem du sudo find /etc -iname my.cnf eingibst.Warscheinlich ist es aber unter sudo nano /etc/mysql/my.cnf zu finden.√ñffne die my.cnf und f√ºge das hinzu:[mysqld]bind-address=0.0.0.0InstallationZuerst musst du eine Einstellungs Datei kopieren und dann ein Core installieren. Dann wir eine eine Application Key generiert.sudo cp .env.example .envsudo composer install --no-dev --optimize-autoloadersudo php artisan key:generate --forceUmgebungskonfigurationPterodactyl‚Äôs Core zu konfigurieren ist einfach, da es in ein paar CLI Befehlen konfigueriert werden kann.sudo php artisan p:environment:setupDanach √∂ffnet sich das CLI:vgssoniii@vgameserver:/var/www/pterodactyl$ sudo php artisan p:environment:setup // Provide the email address that eggs exported by this Panel should be from. This should be a valid email address. Egg Author Email [unknown@unknown.com]: &gt; Deine@eMail.de // The application URL MUST begin with https:// or http:// depending on if you are using SSL or not. If you do not // include the scheme your emails and other content will link to the wrong location. Application URL [http://panel.example.com]: &gt; http://IP-Adresse // The timezone should match one of PHPs supported timezones. If you are unsure, please reference // http://php.net/manual/en/timezones.php. Application Timezone [America/New_York]: &gt; Europe/Berlin Cache Driver [Filesystem]: [redis ] Redis (recommended) [memcached] Memcached [file ] Filesystem &gt; redis Session Driver [Filesystem]: [redis ] Redis (recommended) [memcached] Memcached [database ] MySQL Database [file ] Filesystem [cookie ] Cookie &gt; redis Queue Driver [Redis (recommended)]: [redis ] Redis (recommended) [database] MySQL Database [sync ] Sync &gt; redis Enable UI based settings editor? (yes/no) [yes]: &gt; yes ! [NOTE] Youve selected the Redis driver for one or more options, please provide valid connection information below. ! In most cases you can use the defaults provided unless you have modified your setup. Redis Host [localhost]: &gt; localhost // By default a Redis server instance has no password as it is running locally and inaccessible to the outside world. // If this is the case, simply hit enter without entering a value. Redis Password: &gt; Dein_Passwort Redis Port [6379]: &gt; 6379Redis einrichtenNun nachdem Redis das erstemal aufgesetzt wurde, musst du es einrichten.Passwort einrichtenDu musst ein Passwort f√ºr Redis einrichten.Daf√ºr musst du folgendes eingeben sudo nano /etc/redis/redis.conf und dann musst du nach folgender Zeile suchen # requirepass foobared und √§ndere es auf requirepass Dein_Passwort.Redis einrichtung abschlie√üenNachdem das Passwort ge√§ndert wurde, muss redis kurz configuriert werden und dann kann die Installation von Pterodactyl weitergehen.redis-cli**Alles was nach dem \"&gt;\" kommt eingeben und \"Dein_Passwort\" durch das Passwort ersetzten was in der \"redis.conf\" angegeben wurde.127.0.0.1:6379&gt; CONFIG SET requirepass \"Dein_Passwort\"OK127.0.0.1:6379&gt; AUTH \"Dein_Passwort\"OK127.0.0.1:6379&gt; exitUmgebungskonfigurationNun da Redis konfiguriert wurde k√∂nnen wir nun weiter machen.Datenbank einrichtenGebe folgendes ein damit die Datenbank eingebunden werden kann.sudo php artisan p:environment:databasevgssoniii@vgameserver:/var/www/pterodactyl$ sudo php artisan p:environment:database ! [NOTE] It is highly recommended to not use \"localhost\" as your database host as we have seen frequent socket ! connection issues. If you want to use a local connection you should be using \"127.0.0.1\". Database Host [127.0.0.1]: &gt; 127.0.0.1 Database Port [3306]: &gt; 3306 Database Name [panel]: &gt; panel ! [NOTE] Using the \"root\" account for MySQL connections is not only highly frowned upon, it is also not allowed by this ! application. Youll need to have created a MySQL user for this software. Database Username [pterodactyl]: &gt; pterodactyl Database Password: &gt; PasswortMail Server einrichtenHier werde ich einen nicht so guten Mail Server einrichten. Hat aber auch keine gro√üe rolle da man es nie brauchen wird.sudo php artisan p:environment:mailvgssoniii@vgameserver:/var/www/pterodactyl$ sudo php artisan p:environment:mail Which driver should be used for sending emails? [SMTP Server]: [smtp ] SMTP Server [mail ] PHPs Internal Mail Function [mailgun ] Mailgun Transactional Email [mandrill] Mandrill Transactional Email [postmark] Postmarkapp Transactional Email &gt; mail Email address emails should originate from [no-reply@example.com]: &gt; no-reply@seikreativ.de Name that emails should appear from [Pterodactyl Panel]: &gt; Pterodactyl Panel Encryption method to use [TLS]: [tls] TLS [ssl] SSL [ ] None &gt; tlsUpdating stored environment configuration file.Datenbank abschlie√üenNun wird die Datenbank die letzten befehle bekommen und dann ist es abgeschlossen.sudo php artisan migrate --seed --forceJe nach system kann das etwas l√§nger dauern.Den ersten User hinzuf√ºgenNun k√ºmmern wir uns darum das wir einen eigenen User erstellen, damit wir im Panel dann auch ein Profil haben um Server errichten zu k√∂nnen.sudo php artisan p:user:makevgssoniii@vgameserver:/var/www/pterodactyl$ sudo php artisan p:user:make Is this user an administrator? (yes/no) [no]: &gt; yes Email Address: &gt; Deine@eMail.de Username: &gt; Dein_Username First Name: &gt; Dein_Vorname Last Name: &gt; Dein_NachnamePasswords must be at least 8 characters in length and contain at least one capital letter and number.If you would like to create an account with a random password emailed to the user, re-run this command (CTRL+C) and pass the `--no-password` flag. Password: &gt;+----------+--------------------------------------+| Field | Value |+----------+--------------------------------------+| UUID | 00000000-0000-0000-0000-000000000000 || Email | Deine@eMail.de || Username | Dein_Username || Name | Dein_Vor&amp;Nachname || Admin | Yes |+----------+--------------------------------------+Rechte verteilenNun der letzte befehl um deinen Account die rechte zu geben.-&gt; # If using NGINX or Apache (not on CentOS):sudo chown -R www-data:www-data /var/www/pterodactyl/*# If using NGINX on CentOS:sudo chown -R nginx:nginx /var/www/pterodactyl/*# If using Apache on CentOSsudo chown -R apache:apache /var/www/pterodactyl/*Warteschlange DaemonDamit der service schneller laufen kann da er im hintergrund mehrere sachen ausf√ºhren kann. Musst dies eingeben sudo crontab -e und gebe dann in der letzten Zeile dies ein * * * * * php /var/www/pterodactyl/artisan schedule:run &gt;&gt; /dev/null 2&gt;&amp;1Die warteschlangen Arbeiter erstellenJetzt musst du die warteschlangen Arbeiter erstellen. Dies geht indem du ein datei erstellen unzwar sudo nano /etc/systemd/system/pteroq.service der folgendes beinhaltet.# Pterodactyl Queue Worker File# ----------------------------------[Unit]Description=Pterodactyl Queue WorkerAfter=redis-server.service[Service]# On some systems the user and group might be different.# Some systems use `apache` or `nginx` as the user and group.User=www-dataGroup=www-dataRestart=alwaysExecStart=/usr/bin/php /var/www/pterodactyl/artisan queue:work --queue=high,standard,low --sleep=3 --tries=3StartLimitInterval=180StartLimitBurst=30RestartSec=5s[Install]WantedBy=multi-user.targetNachdem alles eingerichtet wurde k√∂nnen wir nun den Redis Server und den Service starten.sudo systemctl enable --now redis-serversudo systemctl enable --now pteroq.serviceWebsite ErstellungNun wird die Website erstellet indem du deiner Game Server oder auch Voice Server erstellen und verwalten kannst.Nginx ohne SSLAls erstes musst du die NGINX konfiguration entfernen.sudo rm /etc/nginx/sites-enabled/defaultNun musst du die Konfiguration die unten steht kopieren und ersetzt 127.0.0.1 mit der domain die du angegeben hast (falls die IP-Adresse angegeben wurde nur IP-Adresse angeben, OHNE \"http://\") und f√ºgst sie in sudo nano /etc/nginx/sites-available/pterodactyl.conf ein.server { # Replace the example &lt;domain&gt; with your domain name or IP address listen 80; server_name 127.0.0.1; root /var/www/pterodactyl/public; index index.html index.htm index.php; charset utf-8; location / { try_files $uri $uri/ /index.php?$query_string; } location = /favicon.ico { access_log off; log_not_found off; } location = /robots.txt { access_log off; log_not_found off; } access_log off; error_log /var/log/nginx/pterodactyl.app-error.log error; # allow larger file uploads and longer script runtimes client_max_body_size 100m; client_body_timeout 120s; sendfile off; location ~ \\.php$ { fastcgi_split_path_info ^(.+\\.php)(/.+)$; fastcgi_pass unix:/run/php/php8.1-fpm.sock; fastcgi_index index.php; include fastcgi_params; fastcgi_param PHP_VALUE \"upload_max_filesize = 100M \\n post_max_size=100M\"; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param HTTP_PROXY \"\"; fastcgi_intercept_errors off; fastcgi_buffer_size 16k; fastcgi_buffers 4 16k; fastcgi_connect_timeout 300; fastcgi_send_timeout 300; fastcgi_read_timeout 300; } location ~ /\\.ht { deny all; }}Konfiguration AktivierenNun musst du die Konfiguration aktivieren und danach neustarten.sudo ln -s /etc/nginx/sites-available/pterodactyl.conf /etc/nginx/sites-enabled/pterodactyl.confsudo systemctl restart nginxWings InstallationSystemanforderungenDu bist schon bald fertig. Jetzt muss noch der Daemon installiert werden doch bevor man dies kann, muss man sein System kurz checken.systemd-detect-virtSollte der nicht funktionieren kann man auch den Befehl benutzen.sudo dmidecode -s system-manufacturerWenn der provider Virtuozzo, OpenVZ (oder OVZ), oder LXC als virtualizierung nutzt, kann man h√∂chstwarscheinlich nicht Wings nutzen. Sollte also als Output OpenVZ oder LXC kommen kann man h√∂chstwarscheinlich keine Server aufsetzten.Ungef√§hr so sollte es aussehen.dane@pterodactyl:~$ sudo dmidecode -s system-manufacturerVMware, Inc.///vgssoniii@vgameserver:/var/www/pterodactyl$ sudo dmidecode -s system-manufacturerMicrosoft CorporationAbh√§ngigkeitenDocker InstallierenUm schnell und einfach Docker zu installieren benutz diesen Befehl.curl -sSL https://get.docker.com/ | CHANNEL=stable bashAuch wichtig: Sollte die Kernel verion nicht supportet sein, so kann man kein Docker benutzen. Man kann es ganz einfach testen indem man uname -r in sein Terminal eingibt. Sollte als Output -xxxx-grs-ipv6-64 oder -xxxx-mod-std-ipv6-64 rauskommen, so unters√ºtzt Docker sie nicht. Sollte das bei dir der fall sein, klicke hier um zu schauen wie du das beheben kannst.Sollte diese Meldung auftauchen================================================================================To run Docker as a non-privileged user, consider setting up theDocker daemon in rootless mode for your user: dockerd-rootless-setuptool.sh installVisit https://docs.docker.com/go/rootless/ to learn about rootless mode.To run the Docker daemon as a fully privileged service, but granting non-rootusers access, refer to https://docs.docker.com/go/daemon-access/WARNING: Access to the remote API on a privileged Docker daemon is equivalent to root access on the host. Refer to the 'Docker daemon attack surface' documentation for details: https://docs.docker.com/go/attack-surface/================================================================================f√ºhre bitte diesen Befehl aus.dockerd-rootless-setuptool.sh installSollte dieser Befehl bei dir nicht funktionieren f√ºhre diese Befehle aus.sudo sh -eux &lt;&lt;EOF# Install newuidmap &amp; newgidmap binariesapt-get install -y uidmapEOFDocker beim hochfahren startenGeben diesen Befehl ein damit Docker immer beim hochfahren des Server startet.sudo systemctl enable --now dockerActiviere SwapAuf den meisten System ist Swap warscheinlich nicht aktiviert. Um herauszufinden ob es bei dir aktiviert ist oder nicht, f√ºhre sudo docker info im Terminal aus und wenn einer der letzten Zeilen WARNING: No swap limit support beinhaltet so musst du es aktivieren.Sollte aber Swap bei dir Aktiv sein kannst du diesen punkt √ºberspringen.Um Swap zu aktivieren musst du sudo nano /etc/default/grub und dann musst du nach der Zeile GRUB_CMDLINE_LINUX_DEFAULT suchen. F√ºge dann in den ‚Äú‚Äù swapaccount=1 so dass es so aussieht.GRUB_CMDLINE_LINUX_DEFAULT=\"swapaccount=1\"Um sicherzustellen das SWAP erfolgreich aktiviert wurde kann man wieder den Befehl eingeben.sudo docker infoWings InstallierenDer erste schritt um Wings zu installieren ist ein neuen ordner zu erstellen und Dateien zu installieren.sudo mkdir -p /etc/pterodactylsudo curl -L -o /usr/local/bin/wings \"https://github.com/pterodactyl/wings/releases/latest/download/wings_linux_$([[ \"$(uname -m)\" == \"x86_64\" ]] &amp;&amp; echo \"amd64\" || echo \"arm64\")\"sudo chmod u+x /usr/local/bin/wingsKonfigurierenNachdem alle komponenten installieret sind und laufen kann man sich auf die Website begeben. Die IP ist die, die man als Domain angegeben hat.Location &amp; Nodes einstellenDu musst Links an der Seite \"Location\" ausw√§hlen.Klicke dann auf \"Create New\".Gebe bei \"Short Code\" einen belibigen Namen ein.Klicke dann Links an der Seite \"Nodes\" und klick auf den knopf \"Create New\".Gebe unter \"Name\" einen belibigen Namen ein.Gebe unter \"FQDN\" die Domain des Server ein.W√§hle bei \"Communicate Over SSL\" -&gt; \"Use HTTP Connection\" und bei \"Behind Proxy\" w√§hle \"Behind Proxy\"Gebe Bei \"Total Memory\" beliebig Ram und bei \"Memory Over-Allocation\" gebe \"10%\".Gebe bei \"Total Disk Space\" beliebig viel Speicherplatz und bei \"Disk Over-Allocation\" gebe \"10%\".\"Daemon Port\" und \"Daemon SFTP Port\" nicht √§ndern au√üer es sollte belegt sein.Nachdem alles eingestellt wurde musst du in den Tab \"Configuration\" rein und die \"Configuration File\" kopieren und in \"sudo nano /etc/pterodactyl/config.yml\" einf√ºgen.Starte WingsNun da das meiste fertig ist und du bald deine eigene Server hosten kannst musst du dich aber noch etwas gedulden. Du musst nun Wings starten.sudo wings --debugNachdem Wings gestartet wurde musst du wieder auf die Pterodactyl Seite gehen und klicke dann auf \"Nodes\" sollte das Herz nicht Gr√ºn sein wie untem im Bild gezeigt, musst du nach deinem Problem googlen.Danach mit \"STRG + C\" den Service stoppen.DaemonizingNachdem Wings ohne probleme starten konnte und auch KEINE fehlermeldungen kam.Kannst du nun weiter machen mit dem n√§chsten schritt.F√ºge den Inhalt der unten steht in die folgende datei hinzu \"sudo nano /etc/systemd/system/wings.service\"[Unit]Description=Pterodactyl Wings DaemonAfter=docker.serviceRequires=docker.servicePartOf=docker.service[Service]User=rootWorkingDirectory=/etc/pterodactylLimitNOFILE=4096PIDFile=/var/run/wings/daemon.pidExecStart=/usr/local/bin/wingsRestart=on-failureStartLimitInterval=180StartLimitBurst=30RestartSec=5s[Install]WantedBy=multi-user.targetNachdem du den Inhalt in die Datei hinzugef√ºgt hast, musst du noch einen Befehl eingeben.sudo systemctl enable --now wingsDieser Befehl ist daf√ºr da damit Wings immer bei jedem Server hochfahren auch mit startet.Weitere Eier hinzuf√ºgenUm Pterodactyl im vollen umpfang nutzen zu k√∂nnen musst du sogenannte \"Egg\" hinzuf√ºgen um mit deinen Freunden andere Spiele oder auch Modpacks zu spielen.Um weitere Eggs hinzuzuf√ºgen muss man diese Repo klonen: https://github.com/parkervcp/eggsIch habe es mit WSL gemacht, geht aber auch unter Windows daf√ºr einfach ein Tutorial anschauen wie man Repos unter Windows klont.Wie klont man eine Repo in WSL:Zuerst braucht man Git (meistens ist es schon vorinstalliert).Dann gibt man diesen folgenden Befehl ein git clone https://github.com/parkervcp/eggsDanach hat man diese Repo runtergeladen doch leider ist sie in WSL.Nun kann man es aber √ºber den Explorer auf seinen PC r√ºberziehen.Daf√ºr links an der seite Linux ausgew√§hlt und auf Ubuntu (oder anderes OS) geklickt, dann auf home -&gt; Deiner User name und dann gibt es einen Ordner names \"Eggs\". Denn kann man kopieren und auf seinen PC ziehen.Nun da du die Eggs hast kann du ganz einfach √ºber den Panel die Eier hinzuf√ºgen.Klicke hierf√ºr auf \"Nests\"Dann auf \"Create New\"Gebe dann den Namen des Spieles oder Service ein den du gerne hinzuf√ºgen m√∂chstest und klicke \"Save\"Gehe dann zur√ºck auf \"Nests\"Klicke dann auf \"Import Egg\"W√§hle dann im Eggs Ordner den du gerade runtergeladen hast das Spiel aus und die ModiIn meinem fall Terraria und dann VanillaIn diesem Ordner befindet sich eine .json Datei. W√§hle diese Datei aus.Nachdem du sie ausgew√§hlt klicke aus \"Associated Nest\" und w√§hle das \"Nest\" aus f√ºr das du dich entschieden hast und klicke auf \"Import\".Es sollte sich ein neues Fenster ge√∂ffnet haben, du kannst runterscrollen und auf save klicken.Wenn du dann wieder auf Nests klickst sollte nun hinter deinem Spiel ein neuer \"Egg\"erscheinen.Nun kannst du dies beliebg oft mit anderen Spielen widerholen.Server einrichtenSolltest du einen Server einrichten wollen musst du diese schritte erst machen. Solltest du aber mit den Standart Server weiter machen kannst dies auch machen.In diesem beispiel nehme ich ein Minecraft Modpack. Solltest du also kein Minecraft Modpack Server erstellen wollen kannst du den schritt \"Curseforge API Key\" und \"Nest einrichten\" √ºberspringen.Curseforge API KeyDu musst auf diesen Link hier klicken um dir erstmal einen Account anzulegen, solltest du aber schon einen Account haben kannst du dich einfach anmelden.CurseForgeNachdem du dich eingelogged hast wirst du nach einer Organizations Namen gefragt. Gibt da einen Namen eine den du m√∂chtest denn so wird der Name des API keys.Dann klickst du link an der Seite auf API keys.Du siehst du hast jetzt einen Key den du sp√§ter brauchst. Also speicher ihn dir irgendwo zwischen.Nest einrichtenNachdem du den API Key hast musst du zur√ºck zu deinem Panel um dort den Key einzugeben.Wenn du wieder auf deinem Panel bist klicks du an der Seite auf \"Nests\" und dann suchst du den Nest wo auch dein Ei mit Cursoforge ist und klickst rein.Jetzt bist du in deim Nest. Klicke jetzt auf \"Curseforge Generic\" um das Ei einszustellen.Klicke dann auf \"Variables\" und scroll ganz runter.Nun findest du ein kleines Fenster das heo√üt \"API Key\", gibt da unter \"Default Value\" dein API Key ein.Ports einrichtenNun musst du dich darum k√ºmmern die Ports einzurichten.Daf√ºr musst du zuerst unter \"Nodes\" -&gt; Allocation\" gehen und dann gibst du unter \"IP Adress\" die IP-Adresse des Servers ein und unter \"Ports\" gibst du die Ports \"27000-27099\" ein. Somit hast du 100 Ports die du frei belegen kannst.Server einrichtungJetzt da du die Ports hast kannst du dich um die erstellung eines Server k√ºmmern.Daf√ºr links an der Seite \"Servers\" ausgew√§hlt und dann auf \"Create New\" geklickt. Es sollte sich ein neues Fenster √∂ffnen.Jetzt kannst du unter \"Server Name\" dem Server einen Namen geben in meinem beispiel: Test BeisplielDann musst du unter Server Owner dein Account eingeben.(Solltest es dein Account nicht finden gib die E-Mail ein)Unter \"Default Allocation\" w√§hlst du den Port aus.Unter dem Fenster \"Resource Management\" kannst du alles einstellen wenn um CPU, Ram und Speicherplatz geht.Kurze erkl√§rung: CPU wird von 100% - z.b 400% angegeben. 1 CPU -&gt; 100%; 4 CPUs -&gt; 400%. Ram wird in MB angben. 1GB -&gt; 1024MB; 4GB -&gt; 4096MB. Dasselbe gilt auch f√ºr Disk Space. Da gibst du den Speicherplatz f√ºr den Server in MB an. (Das gleiche beispiel wie bei RAM.)Solltest du aber die freilassen wird der Server alle Rescourcen nehmen die der Server hat.Nun geht es weiter mit dem n√§chsten Fenster. Das hei√üt Nest \"Configuration\".Das hier gesagt bezieht sich nur auf Minecraft und kann auf andere Server anders seinUnter \"Nest\" w√§hlst du das Nest aus welches genommen werden soll. In meinem beispiel \"Minecraft Extra\"Dann unter \"Egg\" w√§hlst du das Ei aus in meinem beispiel ist es \"Curseforge Genetic\" wird bei dir aber auch so hei√üen.Rechts vom Fenster hast du ein Fenster das nennt sich \"Docker Configuration\"Da hast du auch ein dropdown Men√º, da w√§hlst du die neueste Java version die f√ºr dich verf√ºgbar ist.Achtung nun wird etwas f√ºr das Minecraft Modpack ausgw√§hlt, solltest du einen anderen Server aufsetzten wollen kannst du denn Punkt √ºberspringen und auf \"Create Server\" klickenNun hast du ein weiteres Fenster das nennt sich \"Service Variables\" da musst du unter \"Modpack Project ID\" die ID des Modpack eingeben. Die findest du wie unten im Bild gezeigt.Nachdem das gemacht wurde kannst du auf \"Create Server\" klicken und starten.Sollte aber der Server nicht funktionieren, weil in die Konsole irgendwas mit \"not found server.jar\" oder etwas √§hnliches sagt. Musst du nur den Server selbstst√§ndig runterladen und es auf dem Server hochladen.Daf√ºr den Server Modpack runterladen wie untern im Bild gezeigt.Dann extrahiere die .zip datei und lade dir das Programm WinSCP runter (nat√ºrlich gehen auch andere SFTP clients).Gehe dann wieder zur√ºck auf deinem Panel und w√§hle \"Servers\" aus.Klicke dann auf das Symbol rechts an der Seite neben \"Delete\".Es sollte dann ein neues Fenster erscheinen indem auch die Konsole ist.Klicke dann auf \"Settings\" und kicke dann auf \"Launch SFTP\" und best√§tige.Es sollte sich dann das Programm √∂ffnen und du wirst aufgefordert einen Passwort einzugeben. Der Passwort ist der normale Passwort den du auch verwendest um dich einzuloggen. Nun solltest du dich schon im Ordner des Servers befinden. Navigiere dich auf der linken h√§lfte durch deinen PC bis du im die Server Dateien gefunden hast die du gerade runtergeladen hast du zieh sie dann auf den Server (Rechte h√§lfte).Versuche nun den Server wieder Starten. Sollte es immernoch nicht funktionieren musst du nach deinem Problem suchen.Herzlichen Gr√ºckwunsch du hast soeben Pterodactyl installiertJa, du hast dich nicht verlesen. Es es nun komplett installiert und du kannst nun auch Server aufsetzten mit ein paar klicks. Solltest du Probleme haben mit dem Interface schlage ich dir vor schau auf YouTube nach einem Guide.Quellehttps://youtu.be/_ypAmCcIlBEhttps://youtu.be/2mibJeaEq3Qhttps://pterodactyl.io/panel/1.0/getting_started.html" }, { "title": "Herzlich Willkommen!", "url": "/posts/Wilkommen/", "categories": "", "tags": "", "date": "2022-07-21 10:00:00 +0200", "snippet": "Herzlich Willkommen auf meiner Doc seite!Hey, freut mich dich hierzuhaben. Das ist meine HomeLab Doc Seite indem ich meine Programe detailliert Documentiere, sodass ich f√ºr sp√§tere installationen auf diese Seite zugreifen kann.Falls du wissen m√∂chtest wie du auch so eine Seite getsalten kannst werde ich hier ein Youtube Video verlinken, damit du auch sowas cooles erstellen kannst. Ich hoffe dass dich meine Guides weiter helfen solltest du nicht wissen wie du ein bestimmtes Programm aufsetzt.Tsch√º√ü :3LG SoniiiT" } ]
